{"id": "a3f6d79c-c0e5-43fe-85d3-70c5e2cbf9b1", "code": "from __future__ import annotations\n\nfrom dataclasses import dataclass, field\nfrom typing import Dict, List\n\n\n@dataclass\nclass SymILProfile:\n    name: str\n    predicate_vocabulary: List[str]\n    allowed_constructs: List[str]\n    preferred_solver: str\n    default_level: int\n    translation_hints: List[str] = field(default_factory=list)\n\n\n_PROFILES: Dict[str, SymILProfile] = {\n    \"syllogism\": SymILProfile(\n        name=\"syllogism\",\n        predicate_vocabulary=[\"is_a\", \"subset_of\"],\n        allowed_constructs=[\"L0\", \"L1\"],\n        preferred_solver=\"scallop\",\n        default_level=1,\n        translation_hints=[\n            \"'All A are B': rule (forall x: is_a(x,A) => is_a(x,B))\",\n            \"'Some A are B': fact (exists x: is_a(x,A) & is_a(x,B))\",\n            \"'No A are B': rule (forall x: is_a(x,A) => ~is_a(x,B))\",\n            \"Query example: ?- is_a(cats, animals)\",\n        ],\n    ),\n    \"math\": SymILProfile(\n        name=\"math\",\n        predicate_vocabulary=[\"equals\", \"greater_than\", \"less_than\", \"geq\", \"leq\", \"add\", \"sub\", \"mul\", \"div\"],\n        allowed_constructs=[\"L0\", \"L1\"],\n        preferred_solver=\"z3\",\n        default_level=1,\n        translation_hints=[\n            \"Facts: (greater_than x 5), (equals y (add x 3))\",\n            \"Constants: 5, vars: x,y\",\n            \"Query: (greater_than y 10)? Use arithmetic in terms.\",\n            \"Avoid loops, use FOL implications.\",\n        ],\n    ),\n    \"planning\": SymILProfile(\n        name=\"planning\",\n        predicate_vocabulary=[\"at\", \"on\", \"clear\", \"action\", \"precond\", \"effect\", \"goal\"],\n        allowed_constructs=[\"L1\", \"L2\"],\n        preferred_solver=\"clingo\",\n        default_level=2,\n        translation_hints=[\n            \"Facts: at(A,table), clear(A)\",\n            \"Action move(X,Y): precond: clear(X), at(X,Z), effect: at(X,Y), clear(Z), ~clear(X)\",\n            \"Use :- for rules, #show plan/1.\",\n            \"Query: goal.\",\n        ],\n    ),\n    \"legal\": SymILProfile(\n        name=\"legal\",\n        predicate_vocabulary=[\"obliged\", \"permitted\", \"forbidden\", \"violate\"],\n        allowed_constructs=[\"L1\", \"L2\"],\n        preferred_solver=\"scallop\",\n        default_level=1,\n        translation_hints=[\n            \"permission(X) :- not prohibited(X).\",\n            \"obliged(X) :- rule1, rule2.\",\n            \"prohibited(X) :- condition.\",\n            \"Use defaults for exceptions: permission(_) :- not prohibited(_).\",\n            \"Query: permitted(action)?\",\n        ],\n    ),\n    \"default\": SymILProfile(\n        name=\"default\",\n        predicate_vocabulary=[\"is\", \"has\", \"P\", \"Q\"],\n        allowed_constructs=[\"L0\", \"L1\"],\n        preferred_solver=\"scallop\",\n        default_level=1,\n        translation_hints=[\n            \"Basic facts: P(a).\",\n            \"Simple rules: Q(x) :- P(x).\",\n            \"Query: Q(?).\",\n            \"Stick to Horn clauses.\",\n        ],\n    ),\n}\n\n\ndef get_profile(name: str) -> SymILProfile:\n    return _PROFILES[name]\n\n\ndef list_profiles() -> List[SymILProfile]:\n    return list(_PROFILES.values())\n", "language": "python", "parent_id": "3946e7da-7bca-4026-9aa2-364f2d26db2b", "generation": 1, "timestamp": 1764609277.2740228, "iteration_found": 1, "metrics": {"combined_score": 0.23372093023255813, "tier1_accuracy": 0.11627906976744186, "tier2_accuracy": 0.0, "syntactic_validity": 0.13953488372093023, "tier1_p95_latency_ms": 4.3330410262569785, "tier2_p95_latency_ms": 0.0, "routing_score": 0.046511627906976744, "latency_score": 1.0, "evaluation_time_ms": 360692.5523749669}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 11 lines with 13 lines\nChange 2: Replace 11 lines with 13 lines\nChange 3: Replace 11 lines with 13 lines\nChange 4: Replace 11 lines with 14 lines\nChange 5: Replace 11 lines with 13 lines", "parent_metrics": {"combined_score": 0.36104651162790696, "tier1_accuracy": 0.26744186046511625, "tier2_accuracy": 0.0, "syntactic_validity": 0.3372093023255814, "tier1_p95_latency_ms": 12.674750003498048, "tier2_p95_latency_ms": 0.0, "routing_score": 0.1744186046511628, "latency_score": 1.0, "evaluation_time_ms": 502957.18616701197}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}